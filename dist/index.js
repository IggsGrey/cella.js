!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("crypto-js")):"function"==typeof define&&define.amd?define(["crypto-js"],t):"object"==typeof exports?exports.Cella=t(require("crypto-js")):e.Cella=t(e.CryptoJS)}(self,(e=>(()=>{"use strict";var t={631:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(122),l=o(r(645)),u=o(r(934));t.default=function(e){var t,r,o=this;if(this.transforms=[],this.defaultStorage=u.default.localStorage,this.execStore=function(e){var t=e.key,r=e.value;if(!t||!t.length)throw l.default.nullKey;if(o.transforms.length&&o.transforms.forEach((function(e){r=e.inbound(r)})),r=r?JSON.stringify(r):"",o.encrypt){if(!o.encrypt.secret||!o.encrypt.secret.length)throw l.default.nullSecretKey;r=(0,n.applyEncrypt)(r,o.encrypt.secret)}o.storage.store(t,r)},this.execGet=function(e){var t,r=e.key;if(!r||!r.length)throw l.default.nullKey;var u=null!==(t=o.storage.get(r))&&void 0!==t?t:"";if(o.encrypt){if(!o.encrypt.secret||!o.encrypt.secret.length)throw l.default.nullSecretKey;u=(0,n.applyDecrypt)(u,o.encrypt.secret)}if(u.length)try{u=JSON.parse(u)}catch(e){throw l.default.retrievingUndecryptedItem}return o.transforms.length&&o.transforms.forEach((function(e){u=e.outbound(u)})),u},this.execEject=function(e){var t=e.key;if(!t||!t.length)throw l.default.nullKey;o.storage.eject(t)},this.store=function(e){var t=e.key,r=e.value;return Promise.resolve(o.execStore({key:t,value:r}))},this.get=function(e){return"object"==typeof e?Promise.resolve(o.execGet({key:null==e?void 0:e.key})):"string"==typeof e?Promise.resolve(o.execGet({key:e})):Promise.reject()},this.eject=function(e){return"object"==typeof e?Promise.resolve(o.execEject({key:null==e?void 0:e.key})):"string"==typeof e?Promise.resolve(o.execEject({key:e})):Promise.reject()},null==e?void 0:e.storage){if("object"==typeof(null==e?void 0:e.storage)&&"type"in(null==e?void 0:e.storage)){var i=e.storage;"indexedDB"==i.type?this.storage=u.default[i.type](i.name):this.storage=u.default[i.type]}this.storage=null!==(t=null==e?void 0:e.storage)&&void 0!==t?t:this.defaultStorage}else this.storage=this.defaultStorage;(null===(r=null==e?void 0:e.transforms)||void 0===r?void 0:r.length)&&(this.transforms=null==e?void 0:e.transforms),this.encrypt=null==e?void 0:e.encrypt}},122:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyDecrypt=t.applyEncrypt=void 0;var n=o(r(615));t.applyEncrypt=function(e,t){return n.default.AES.encrypt(e,t).toString()},t.applyDecrypt=function(e,t){return n.default.AES.decrypt(e,t).toString(n.default.enc.Utf8)}},645:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={nullSecretKey:"NO SECRET KEY DEFINED. YOU NEED TO DEFINED A SECRET KEY IN ORDER TO SUCCESSFULLY ENCRYPT OR DECRYPT DATA.",nullKey:"NO STORAGE ITEM KEY DEFINED. UNABLE TO IDENTIFY STORAGE ITEM TO RETRIEVE",retrievingUndecryptedItem:"TRYING TO RETRIEVE ENCRYPTED ITEM WITH INVALD OR UNSPECIFIED DECRYPTION CODE",indexedDB:{unsupported:"THIS BROWSER DOES NOT YET SUPPORT THE INDEXEDDB SPECIFICATION OR IT IS IMPROPERLY SPECIFED"}}},607:(e,t,r)=>{var o=r(631).default;e.exports=o},711:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{store:function(e,t){return localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)},eject:function(e){return localStorage.removeItem(e)}}}},444:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r={store:function(e,t){return localStorage.setItem(e,t)},get:function(e){return localStorage.getItem(e)},eject:function(e){return localStorage.removeItem(e)}};t.default=r},934:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(711)),l={localStorage:o(r(444)).default,indexedDB:function(e){return(0,n.default)(e)}};t.default=l},615:t=>{t.exports=e}},r={};return function e(o){var n=r[o];if(void 0!==n)return n.exports;var l=r[o]={exports:{}};return t[o].call(l.exports,l,l.exports,e),l.exports}(607)})()));
//# sourceMappingURL=index.js.map